# RWKV-VTuber

ä¸€ä¸ªåŸºäº RWKV æ¨¡å‹çš„æ™ºèƒ½ VTuber åŠ©æ‰‹ï¼Œå…·æœ‰é•¿æ—¶è®°å¿†å’Œè‡ªæˆ‘æ¦‚å¿µã€‚é€šè¿‡ Live2D æŠ€æœ¯æä¾›æ²‰æµ¸å¼äº¤äº’ä½“éªŒï¼Œæ”¯æŒå¤šç§ AI æ¨¡å‹ã€è¯­éŸ³åˆæˆã€è¯­éŸ³è¯†åˆ«å’Œè®°å¿†ç®¡ç†åŠŸèƒ½ã€‚

![ç¤ºæ„å›¾](./readme/intro.png)

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ§  **æ™ºèƒ½è®°å¿†ç³»ç»Ÿ** - åŸºäºå‘é‡æ£€ç´¢çš„é•¿æ—¶è®°å¿†ï¼Œæ”¯æŒç”¨æˆ·ç”»åƒã€è‡ªæˆ‘æ¦‚å¿µå’Œå¯¹è¯æ€»ç»“
- ğŸ­ **Live2D è§’è‰²** - å†…ç½®å¤šä¸ªç²¾ç¾ Live2D æ¨¡å‹ï¼Œæ”¯æŒè¡¨æƒ…ã€åŠ¨ä½œå’Œè¯­éŸ³åŒæ­¥
- ğŸ¤ **è¯­éŸ³äº¤äº’** - æ”¯æŒå¤šç§ TTS/STT æœåŠ¡ï¼Œå®ç°çœŸæ­£çš„è¯­éŸ³å¯¹è¯
- ğŸŒ **å¤šå¹³å°æ”¯æŒ** - åŒæ—¶æ”¯æŒ Web ç«¯å’Œæ¡Œé¢ç«¯ï¼ˆTauriï¼‰
- âš¡ **é«˜æ€§èƒ½** - ä¼˜åŒ–çš„ä¸Šä¸‹æ–‡ç®¡ç†ï¼Œ3000 tokens å†…å®Œæˆæ¨ç†
- ğŸ”§ **é«˜åº¦å¯é…ç½®** - æ‰€æœ‰æœåŠ¡å‡å¯è‡ªå®šä¹‰é…ç½®ï¼Œæ— éœ€ä¿®æ”¹ä»£ç 

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åœ¨çº¿ä½“éªŒ

è®¿é—®åœ¨çº¿ç‰ˆæœ¬ï¼Œé…ç½® API å¯†é’¥å³å¯å¼€å§‹ä½¿ç”¨ï¼š

1. æ³¨å†Œ [DeepSeek](https://deepseek.com) æˆ–å…¶ä»–å…¼å®¹ OpenAI çš„æœåŠ¡
2. è·å– API Key
3. åœ¨åº”ç”¨ä¸­é…ç½®æ¨ç†æœåŠ¡

### æœ¬åœ°éƒ¨ç½²

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/RWKV-VTuber.git
cd RWKV-VTuber

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev:web    # Web ç«¯
pnpm dev:tauri  # æ¡Œé¢ç«¯

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build:web    # Web ç«¯è¾“å‡ºåˆ° /dist-web
pnpm build:tauri  # æ¡Œé¢ç«¯
```

## ğŸ“‹ åŠŸèƒ½æ¨¡å—

| æ¨¡å—         | æ”¯æŒçš„æœåŠ¡          | è¯´æ˜                             |
| ------------ | ------------------- | -------------------------------- |
| **æ¨ç†æ¨¡å‹** | OpenAI å…¼å®¹æœåŠ¡     | æ”¯æŒ DeepSeekã€Ollamaã€OpenAI ç­‰ |
| **åµŒå…¥æ¨¡å‹** | Jina Embeddings v3  | ç”¨äºè®°å¿†å‘é‡åŒ–å’Œæ£€ç´¢             |
| **è¯­éŸ³åˆæˆ** | F5 TTSã€Fish Speech | æ”¯æŒå¤šç§ TTS æœåŠ¡                |
| **è¯­éŸ³è¯†åˆ«** | Web Speech API      | æµè§ˆå™¨å†…ç½® STT åŠŸèƒ½              |
| **Live2D**   | å†…ç½®æ¨¡å‹åº“          | 8+ ä¸ªç²¾ç¾è§’è‰²æ¨¡å‹                |
| **è®°å¿†ç®¡ç†** | IndexedDB + S3      | æœ¬åœ°å­˜å‚¨ + äº‘ç«¯å¤‡ä»½              |
| **å¤©æ°”ä¿¡æ¯** | å’Œé£å¤©æ°” API        | å¯é€‰åŠŸèƒ½                         |
| **äº‘å­˜å‚¨**   | AWS S3 å…¼å®¹         | é…ç½®å’Œè®°å¿†äº‘ç«¯åŒæ­¥               |

## ğŸ® å†…ç½® Live2D æ¨¡å‹

é¡¹ç›®å†…ç½®äº†å¤šä¸ªç²¾ç¾çš„ Live2D è§’è‰²ï¼š

- **ç´«æ±** (dark-boy) - æš—è‰²ç³»è§’è‰²ï¼Œæ”¯æŒå¤šç§è¡¨æƒ…å’ŒåŠ¨ä½œ
- **å®ˆæŠ¤çµå°ç‹—** (dog-boy-a/b) - å¯çˆ±çš„å°ç‹—è§’è‰²ï¼Œå¥³ä»†è£…å’Œåˆå§‹ç‰ˆ
- **è‹±é›„ç”·å­©** (hero-boy) - ç»å…¸è‹±é›„å½¢è±¡
- **åŸºå°¼å¥‡** (jiniqi) - ç‹¬ç‰¹è®¾è®¡è§’è‰²
- **å…”å…”** (rabbit-boy) - èŒç³»å…”å­è§’è‰²
- **Tororo** - ç»å…¸ Live2D è§’è‰²
- **Hijiki** - å¦ä¸€ä¸ªç»å…¸è§’è‰²
- **Evil Boy** - æš—é»‘ç³»è§’è‰²

æ¯ä¸ªæ¨¡å‹éƒ½æ”¯æŒï¼š

- çœ¨çœ¼åŠ¨ç”»
- å£å‹åŒæ­¥
- å¤šç§è¡¨æƒ…åˆ‡æ¢
- ç‰©ç†æ•ˆæœ
- è‡ªå®šä¹‰åŠ¨ä½œ

## ğŸ§  æ™ºèƒ½è®°å¿†ç³»ç»Ÿ

### è®°å¿†ç±»å‹

1. **çŸ­æ—¶è®°å¿†** - å½“å‰å¯¹è¯çš„ä¸Šä¸‹æ–‡
2. **é•¿æ—¶è®°å¿†** - è·¨å¯¹è¯çš„é‡è¦ä¿¡æ¯
3. **ç”¨æˆ·ç”»åƒ** - å¯¹ç”¨æˆ·çš„ä¸ªæ€§åŒ–è®¤çŸ¥
4. **è‡ªæˆ‘æ¦‚å¿µ** - AI å¯¹è‡ªå·±çš„è®¤çŸ¥å’Œä¸ªæ€§

### è®°å¿†ç®¡ç†

- **æ™ºèƒ½æ‘˜è¦** - è‡ªåŠ¨ç”Ÿæˆå¯¹è¯æ€»ç»“
- **é‡è¦æ€§è¯„åˆ†** - æ ¹æ®å¯¹è¯å†…å®¹è‡ªåŠ¨è¯„åˆ†
- **æ ‡ç­¾ç³»ç»Ÿ** - è‡ªåŠ¨æå–å…³é”®è¯æ ‡ç­¾
- **å‘é‡æ£€ç´¢** - åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦çš„è®°å¿†å¬å›
- **äº‘ç«¯å¤‡ä»½** - æ”¯æŒ S3 å­˜å‚¨åŒæ­¥

## âš™ï¸ é…ç½®è¯´æ˜

### æ¨ç†æœåŠ¡é…ç½®

```typescript
// æ”¯æŒçš„é…ç½®é¡¹
{
  endpoint: "https://api.deepseek.com/v1",  // API åœ°å€
  apiKey: "your-api-key",                   // API å¯†é’¥
  modelName: "deepseek-chat"                // æ¨¡å‹åç§°
}
```

### è¯­éŸ³æœåŠ¡é…ç½®

```typescript
// TTS æœåŠ¡é…ç½®
{
  f5TtsEndpoint: "http://127.0.0.1:5010/api",
  fishSpeechEndpoint: "http://127.0.0.1:8080",
  webSpeechConfig: {
    voice: "Microsoft Huihui - Chinese (Simplified, PRC)",
    lang: "zh-CN",
    rate: 1.0,
    pitch: 1.0,
    volume: 1.0
  }
}
```

### Live2D é…ç½®

```typescript
// Live2D æ¨¡å‹é…ç½®
{
  defaultLive2d: "dark-boy",     // é»˜è®¤æ¨¡å‹
  live2dPositionX: 0,            // X è½´ä½ç½®
  live2dPositionY: 0,           // Y è½´ä½ç½®
  live2dScale: 1.0,             // ç¼©æ”¾æ¯”ä¾‹
  backgroundImage: "back.png"   // èƒŒæ™¯å›¾ç‰‡
}
```

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”œâ”€â”€ chat/           # èŠå¤©ç›¸å…³ç»„ä»¶
â”‚   â”œâ”€â”€ ui/             # åŸºç¡€ UI ç»„ä»¶
â”‚   â””â”€â”€ Layout/         # å¸ƒå±€ç»„ä»¶
â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ useChatOperations.ts    # èŠå¤©æ“ä½œ
â”‚   â”œâ”€â”€ useSmartMemory.ts       # æ™ºèƒ½è®°å¿†
â”‚   â””â”€â”€ useContextManager.ts    # ä¸Šä¸‹æ–‡ç®¡ç†
â”œâ”€â”€ lib/                # å·¥å…·åº“
â”‚   â”œâ”€â”€ api/            # API æ¥å£
â”‚   â”œâ”€â”€ db/             # æ•°æ®åº“æ“ä½œ
â”‚   â””â”€â”€ prompts.ts      # æç¤ºè¯æ¨¡æ¿
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ chat/           # èŠå¤©é¡µé¢
â”‚   â”œâ”€â”€ config/         # é…ç½®é¡µé¢
â”‚   â””â”€â”€ memory/         # è®°å¿†ç®¡ç†é¡µé¢
â””â”€â”€ stores/             # çŠ¶æ€ç®¡ç†
    â”œâ”€â”€ useChatApi.ts   # èŠå¤© API
    â”œâ”€â”€ useSpeakApi.ts  # è¯­éŸ³ API
    â””â”€â”€ useLive2dApi.ts # Live2D API
```

### ç¯å¢ƒå˜é‡

| å˜é‡å                 | é»˜è®¤å€¼  | è¯´æ˜             |
| ---------------------- | ------- | ---------------- |
| `VITE_DEBUG_COMPONENT` | `'off'` | å¼€å¯è°ƒè¯•ç»„ä»¶æ˜¾ç¤º |

### æ„å»ºè„šæœ¬

```bash
# å¼€å‘æ¨¡å¼
pnpm dev:web      # Web ç«¯å¼€å‘
pnpm dev:tauri    # æ¡Œé¢ç«¯å¼€å‘

# ç”Ÿäº§æ„å»º
pnpm build:web    # Web ç«¯æ„å»º
pnpm build:tauri  # æ¡Œé¢ç«¯æ„å»º

# å¤šå¹³å°æ„å»º
pnpm build:mac    # macOS
pnpm build:win    # Windows
pnpm build:linux  # Linux
pnpm build:all    # æ‰€æœ‰å¹³å°
```

## ğŸ“š API æ–‡æ¡£

### è®°å¿†ç®¡ç† API

```typescript
// æ·»åŠ è®°å¿†
await db.addMemory({
  content: "å¯¹è¯å†…å®¹",
  summary: "æ™ºèƒ½æ‘˜è¦",
  timestamp: Date.now(),
  importance: 5,
  tags: ["æ ‡ç­¾1", "æ ‡ç­¾2"],
});

// æœç´¢ç›¸å…³è®°å¿†
const memories = await searchRelevantMemories(query, maxResults);

// æ›´æ–°ç”¨æˆ·ç”»åƒ
await updateUserProfile(conversationSummary);
```

### Live2D æ§åˆ¶ API

```typescript
// åŠ è½½æ¨¡å‹
const model = await live2d.loadModel("dark-boy");

// æ’­æ”¾åŠ¨ç”»
model.playMotion("Idle");

// è®¾ç½®è¡¨æƒ…
model.setExpression("happy");

// å£å‹åŒæ­¥
model.syncLipSync(audioData);
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Live2D](https://www.live2d.com/) - 2D è§’è‰²åŠ¨ç”»æŠ€æœ¯
- [L2D](https://github.com/hacxy/l2d) - Live2D Web æ¸²æŸ“åº“
- [Tauri](https://tauri.app/) - æ¡Œé¢åº”ç”¨æ¡†æ¶
- [React](https://react.dev/) - å‰ç«¯æ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹ [Issues](https://github.com/your-username/RWKV-VTuber/issues)
2. åˆ›å»ºæ–°çš„ Issue
3. å‚ä¸è®¨è®º

---

**RWKV-VTuber** - è®© AI è§’è‰²æ›´åŠ ç”ŸåŠ¨æœ‰è¶£ï¼ ğŸ­âœ¨
